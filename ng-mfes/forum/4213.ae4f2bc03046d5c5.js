(self.webpackChunkforum=self.webpackChunkforum||[]).push([[4213],{4213:(E,f,l)=>{l.r(f),l.d(f,{RemoteEntryModule:()=>w});var c=l(8236),d=l(4313),p=l(729),v=l(3635),T=l(2416),e=l(1209);let u=(()=>{class n{constructor(t,r){this.httpClient=t,this.socialAuthService=r,this.THREADS_URL="https://slforum-xiosrv3ggq-uc.a.run.app/forum/threads",this.POSTS_URL="https://slforum-xiosrv3ggq-uc.a.run.app/forum/posts"}getAllThreads(){return this.httpClient.get(this.THREADS_URL)}getThread(t){return this.httpClient.get(this.THREADS_URL+"/"+t)}getAllPosts(t){return this.httpClient.get(this.POSTS_URL+"/"+t)}saveNewThread(t){return this.socialAuthService.authState.subscribe(r=>{const i={headers:new p.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "+r.idToken})};return this.httpClient.post(this.THREADS_URL,t,i).subscribe(s=>console.log(s))}),(0,v.of)(!1)}saveReply(t){return this.socialAuthService.authState.subscribe(r=>{const i={headers:new p.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "+r.idToken})};return this.httpClient.post(this.POSTS_URL,t,i).subscribe(s=>console.log(s))}),(0,v.of)(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(p.HttpClient),e.\u0275\u0275inject(T.SocialAuthService))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=l(367),a=l(4093);let y=(()=>{class n{constructor(t,r){this.forumService=t,this.dialogRef=r,this.newThreadForm=new a.FormGroup({name:new a.FormControl(""),title:new a.FormControl(""),description:new a.FormControl("")})}ngOnInit(){}onSubmit(){const t={createdBy:{name:this.newThreadForm.get("name")?.value},title:this.newThreadForm.get("title")?.value,description:this.newThreadForm.get("description")?.value};this.forumService.saveNewThread(t).subscribe(r=>{this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u),e.\u0275\u0275directiveInject(m.MatDialogRef))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-new-thread"]],decls:17,vars:1,consts:[[1,"container","pt-5"],["id","newThreadForm","name","newThreadForm","novalidate","novalidate",3,"formGroup"],[1,"row","align-items-stretch","mb-5"],[1,"col-md-12"],[1,"form-group"],["id","name","type","text","placeholder","Your Name (Anonymous)","required","required","data-validation-required-message","Please enter your name.","formControlName","name",1,"form-control"],[1,"help-block","text-danger"],["id","title","type","text","placeholder","Title *","required","required","formControlName","title","data-validation-required-message","Please enter a title.",1,"form-control"],[1,"form-group","form-group-textarea","mb-md-0"],["rows","10","id","message","placeholder","Description *","required","required","formControlName","description","data-validation-required-message","Please enter a detailed description.",1,"form-control"],[1,"text-center"],["id","success"],[1,"btn","btn-primary","btn-xl","text-uppercase",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"input",5)(6,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"input",7)(9,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"textarea",9)(12,"p",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275element(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return r.onSubmit()}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",r.newThreadForm))},dependencies:[a.\u0275NgNoValidate,a.DefaultValueAccessor,a.NgControlStatus,a.NgControlStatusGroup,a.RequiredValidator,a.FormGroupDirective,a.FormControlName]}),n})(),g=(()=>{class n{constructor(t,r,i){this.data=t,this.dialogRef=r,this.forumService=i,this.replyThreadForm=new a.FormGroup({content:new a.FormControl(""),name:new a.FormControl("")})}ngOnInit(){}onSubmit(){const t=this.data.threadId,r={createdBy:{name:this.replyThreadForm.get("name")?.value},content:this.replyThreadForm.get("content")?.value,threadId:t};console.log(r),this.forumService.saveReply(r).subscribe(i=>{this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(m.MAT_DIALOG_DATA),e.\u0275\u0275directiveInject(m.MatDialogRef),e.\u0275\u0275directiveInject(u))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-reply-thread"]],decls:14,vars:1,consts:[[1,"container","pt-5"],["id","newThreadForm","name","newThreadForm","novalidate","novalidate",3,"formGroup"],[1,"row","align-items-stretch","mb-5"],[1,"col-md-12"],[1,"form-group"],["id","name","type","text","placeholder","Your Name (Anonymous)","required","required","data-validation-required-message","Please enter your name.","formControlName","name",1,"form-control"],[1,"help-block","text-danger"],[1,"form-group","form-group-textarea","mb-md-0"],["rows","10","id","message","placeholder","Reply *","required","required","formControlName","content","data-validation-required-message","Please enter a detailed content.",1,"form-control"],[1,"text-center"],["id","success"],[1,"btn","btn-primary","btn-xl","text-uppercase",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"input",5)(6,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275element(8,"textarea",8)(9,"p",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275element(11,"div",10),e.\u0275\u0275elementStart(12,"button",11),e.\u0275\u0275listener("click",function(){return r.onSubmit()}),e.\u0275\u0275text(13,"Submit"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",r.replyThreadForm))},dependencies:[a.\u0275NgNoValidate,a.DefaultValueAccessor,a.NgControlStatus,a.NgControlStatusGroup,a.RequiredValidator,a.FormGroupDirective,a.FormControlName]}),n})();var C=l(7104);function S(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6)(1,"h4",7),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.showThreadDetails(s.id))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div")(6,"a",8),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.replyThread(s.id))}),e.\u0275\u0275text(7,"Reply"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"a",9),e.\u0275\u0275text(9,"Share"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"sub",10),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(12,"hr"),e.\u0275\u0275elementEnd()}if(2&n){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2("",t.createdBy.name," on ",t.lastUpdatedAt,"")}}function x(n,o){1&n&&e.\u0275\u0275element(0,"mat-progress-bar",11)}let F=(()=>{class n{constructor(t,r,i,s){this.forumService=t,this.activatedRoute=r,this.dialog=i,this.router=s,this.threads=[],this.loading=!1}ngOnInit(){this.loading=!0,this.forumService.getAllThreads().subscribe(t=>{this.threads=t,this.loading=!1})}openNewThreadDialog(){this.dialog.open(y,{width:"750px"})}showThreadDetails(t){this.router.navigate(["thread",t],{relativeTo:this.activatedRoute})}replyThread(t){this.dialog.open(g,{width:"750px",data:{threadId:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u),e.\u0275\u0275directiveInject(d.ActivatedRoute),e.\u0275\u0275directiveInject(m.MatDialog),e.\u0275\u0275directiveInject(d.Router))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-forum"]],decls:7,vars:2,consts:[[1,"container","pt-5"],[1,"mt-5","pt-5"],["class","col-lg-12 forum pt-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","pt-5"],[1,"btn","btn-primary","btn-xl","text-uppercase","js-scroll-trigger",3,"click"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"col-lg-12","forum","pt-3"],[1,"cursor",3,"click"],[1,"px-2",3,"click"],["href","#",1,"px-2"],[1,"float-right"],["color","accent","mode","indeterminate"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,S,13,4,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"a",4),e.\u0275\u0275listener("click",function(){return r.openNewThreadDialog()}),e.\u0275\u0275text(5,"Ask Question"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,x,1,0,"mat-progress-bar",5),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",r.threads),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.loading))},dependencies:[c.NgForOf,c.NgIf,C.MatProgressBar],styles:[".forum[_ngcontent-%COMP%]{border:0;box-shadow:0 0}.mat-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.btn-primary[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{color:#e22cb1}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function b(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"h3"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"sub",9),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&n){const t=o.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.content),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==t||null==t.createdBy?null:t.createdBy.name," on ",null==t?null:t.lastUpdatedAt,"")}}const _=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-mf-forum-entry"]],decls:1,vars:0,template:function(t,r){1&t&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[d.RouterOutlet],encapsulation:2}),n})(),children:[{path:"thread/:id",component:(()=>{class n{constructor(t,r,i){this.route=t,this.dialog=r,this.forumService=i,this.id="",this.posts=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&(this.forumService.getThread(this.id).subscribe(t=>{this.thread=t}),this.forumService.getAllPosts(this.id).subscribe(t=>{this.posts=t}))}replyThread(t){this.dialog.open(g,{width:"750px",data:{threadId:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(d.ActivatedRoute),e.\u0275\u0275directiveInject(m.MatDialog),e.\u0275\u0275directiveInject(u))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-thread-detail"]],decls:14,vars:3,consts:[[1,"container","pt-5"],[1,"mt-5","pt-5"],["class","col-lg-12 forum pt-3",4,"ngFor","ngForOf"],[1,"pt-3"],[1,"px-2",3,"click"],["href","#",1,"px-2"],["routerLink","../../",1,"px-2","float-right"],[1,"col-lg-12","forum","pt-3"],[1,"col-lg-12"],[1,"float-right"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h3"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,b,6,3,"div",2),e.\u0275\u0275elementStart(7,"div",3)(8,"a",4),e.\u0275\u0275listener("click",function(){return r.replyThread(null==r.thread?null:r.thread.id)}),e.\u0275\u0275text(9,"Reply"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"a",5),e.\u0275\u0275text(11,"Share"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"a",6),e.\u0275\u0275text(13,"Back"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==r.thread?null:r.thread.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==r.thread?null:r.thread.description),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.posts))},dependencies:[c.NgForOf,d.RouterLink],styles:[".forum[_ngcontent-%COMP%]{border:0;box-shadow:0 0}.mat-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.btn-primary[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{color:#e22cb1}"]}),n})()},{path:"",component:F}]}];var R=l(8575);let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,a.ReactiveFormsModule,C.MatProgressBarModule,p.HttpClientModule,R.MaterialModule,d.RouterModule.forChild(_)]}),n})()}}]);