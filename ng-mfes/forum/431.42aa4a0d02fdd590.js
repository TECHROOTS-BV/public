(self.webpackChunkforum=self.webpackChunkforum||[]).push([[431],{8431:(W,L,g)=>{g.r(L),g.d(L,{RemoteEntryModule:()=>Q});var j=g(8236),b=g(4313),e=g(1209);let G=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["ng-mf-forum-entry"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(a,t){1&a&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[b.RouterOutlet],encapsulation:2}),s})();var S=g(655),P=g(729),H=g(3635),k=g(2416);let I=(()=>{class s{constructor(a,t){this.httpClient=a,this.socialAuthService=t,this.THREADS_URL="https://slforum-xiosrv3ggq-uc.a.run.app/forum/threads",this.POSTS_URL="https://slforum-xiosrv3ggq-uc.a.run.app/forum/posts"}getAllThreads(){return this.httpClient.get(this.THREADS_URL)}getThread(a){return this.httpClient.get(this.THREADS_URL+"/"+a)}getAllPosts(a){return this.httpClient.get(this.POSTS_URL+"/"+a)}saveNewThread(a){return this.socialAuthService.authState.subscribe(t=>{const n={headers:new P.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "+t.idToken})};return this.httpClient.post(this.THREADS_URL,a,n).subscribe(r=>console.log(r))}),(0,H.of)(!1)}saveReply(a){return this.socialAuthService.authState.subscribe(t=>{const n={headers:new P.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "+t.idToken})};return this.httpClient.post(this.POSTS_URL,a,n).subscribe(r=>console.log(r))}),(0,H.of)(!1)}}return s.\u0275fac=function(a){return new(a||s)(e.\u0275\u0275inject(P.HttpClient),e.\u0275\u0275inject(k.SocialAuthService))},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var C=g(367),f=g(4093),w=g(9843);let F=class{constructor(c,a){this.forumService=c,this.dialogRef=a,this.newThreadForm=new f.FormGroup({name:new f.FormControl(""),title:new f.FormControl(""),description:new f.FormControl("")})}ngOnInit(){}onSubmit(){const c={createdBy:{name:this.newThreadForm.get("name")?.value},title:this.newThreadForm.get("title")?.value,description:this.newThreadForm.get("description")?.value};this.forumService.saveNewThread(c).pipe((0,w.untilDestroyed)(this)).subscribe(a=>{this.dialogRef.close()})}};F.\u0275fac=function(c){return new(c||F)(e.\u0275\u0275directiveInject(I),e.\u0275\u0275directiveInject(C.MatDialogRef))},F.\u0275cmp=e.\u0275\u0275defineComponent({type:F,selectors:[["app-new-thread"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:17,vars:1,consts:[[1,"container","pt-5"],["id","newThreadForm","name","newThreadForm","novalidate","novalidate",3,"formGroup"],[1,"row","align-items-stretch","mb-5"],[1,"col-md-12"],[1,"form-group"],["id","name","type","text","placeholder","Your Name (Anonymous)","required","required","data-validation-required-message","Please enter your name.","formControlName","name",1,"form-control"],[1,"help-block","text-danger"],["id","title","type","text","placeholder","Title *","required","required","formControlName","title","data-validation-required-message","Please enter a title.",1,"form-control"],[1,"form-group","form-group-textarea","mb-md-0"],["rows","10","id","message","placeholder","Description *","required","required","formControlName","description","data-validation-required-message","Please enter a detailed description.",1,"form-control"],[1,"text-center"],["id","success"],[1,"btn","btn-primary","btn-xl","text-uppercase",3,"click"]],template:function(c,a){1&c&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"input",5)(6,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"input",7)(9,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275element(11,"textarea",9)(12,"p",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275element(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return a.onSubmit()}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()()()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.newThreadForm))},dependencies:[f.ReactiveFormsModule,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName]}),F=(0,S.gn)([(0,w.UntilDestroy)(),(0,S.w6)("design:paramtypes",[I,C.MatDialogRef])],F);let y=class{constructor(c,a,t){this.data=c,this.dialogRef=a,this.forumService=t,this.replyThreadForm=new f.FormGroup({content:new f.FormControl(""),name:new f.FormControl("")})}ngOnInit(){}onSubmit(){const c=this.data.threadId,a={createdBy:{name:this.replyThreadForm.get("name")?.value},content:this.replyThreadForm.get("content")?.value,threadId:c};console.log(a),this.forumService.saveReply(a).pipe((0,w.untilDestroyed)(this)).subscribe(t=>{this.dialogRef.close()})}};y.\u0275fac=function(c){return new(c||y)(e.\u0275\u0275directiveInject(C.MAT_DIALOG_DATA),e.\u0275\u0275directiveInject(C.MatDialogRef),e.\u0275\u0275directiveInject(I))},y.\u0275cmp=e.\u0275\u0275defineComponent({type:y,selectors:[["app-reply-thread"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:14,vars:1,consts:[[1,"container","pt-5"],["id","newThreadForm","name","newThreadForm","novalidate","novalidate",3,"formGroup"],[1,"row","align-items-stretch","mb-5"],[1,"col-md-12"],[1,"form-group"],["id","name","type","text","placeholder","Your Name (Anonymous)","required","required","data-validation-required-message","Please enter your name.","formControlName","name",1,"form-control"],[1,"help-block","text-danger"],[1,"form-group","form-group-textarea","mb-md-0"],["rows","10","id","message","placeholder","Reply *","required","required","formControlName","content","data-validation-required-message","Please enter a detailed content.",1,"form-control"],[1,"text-center"],["id","success"],[1,"btn","btn-primary","btn-xl","text-uppercase",3,"click"]],template:function(c,a){1&c&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"input",5)(6,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275element(8,"textarea",8)(9,"p",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275element(11,"div",10),e.\u0275\u0275elementStart(12,"button",11),e.\u0275\u0275listener("click",function(){return a.onSubmit()}),e.\u0275\u0275text(13,"Submit"),e.\u0275\u0275elementEnd()()()()),2&c&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.replyThreadForm))},dependencies:[f.ReactiveFormsModule,f.\u0275NgNoValidate,f.DefaultValueAccessor,f.NgControlStatus,f.NgControlStatusGroup,f.RequiredValidator,f.FormGroupDirective,f.FormControlName]}),y=(0,S.gn)([(0,w.UntilDestroy)(),(0,S.w6)("design:paramtypes",[Object,C.MatDialogRef,I])],y);var B=g(7104),M=g(4293);let V=(()=>{class s{constructor(a,t){this.httpClient=a,this.cookieService=t,this.URL="https://slforum-xiosrv3ggq-uc.a.run.app/user"}getLoggedInUser(){const a={headers:new P.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "+this.cookieService.get("idToken")})};return this.httpClient.get(this.URL,a)}}return s.\u0275fac=function(a){return new(a||s)(e.\u0275\u0275inject(P.HttpClient),e.\u0275\u0275inject(M.CookieService))},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),N=(()=>{class s{setLoggedInUser(a){this.loggedInUser=a}getLoggedInUser(){return this.loggedInUser}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function $(s,c){if(1&s){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.replyThread(n.id))}),e.\u0275\u0275text(1,"Reply"),e.\u0275\u0275elementEnd()}}function K(s,c){if(1&s){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"h4",6),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(a).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.showThreadDetails(r.id))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275template(6,$,2,0,"a",7),e.\u0275\u0275elementStart(7,"sub",8),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"hr"),e.\u0275\u0275elementEnd()}if(2&s){const a=c.$implicit,t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.description),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.loggedInUser),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",a.createdBy.name," on ",a.lastUpdatedAt,"")}}function D(s,c){if(1&s){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"a",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.openNewThreadDialog())}),e.\u0275\u0275text(2,"New Thread"),e.\u0275\u0275elementEnd()()}}function q(s,c){1&s&&(e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275element(1,"i",13),e.\u0275\u0275elementEnd())}let O=class{constructor(c,a,t,n,r,o,l,i){this.forumService=c,this.userService=a,this.cookieService=t,this.loggedInService=n,this.socialAuthService=r,this.activatedRoute=o,this.dialog=l,this.router=i,this.threads=[],this.isLoading=!1}initSocialLogin(){this.socialAuthService.authState.subscribe({next:c=>{c&&(this.cookieService.set("idToken",c.idToken),this.userService.getLoggedInUser().subscribe({next:a=>{this.loggedInUser=a,this.loggedInService.setLoggedInUser(a)}}))},error:c=>{console.error(c)}})}ngOnInit(){this.initSocialLogin(),this.isLoading=!0,this.forumService.getAllThreads().pipe((0,w.untilDestroyed)(this)).subscribe(c=>{this.threads=c,this.isLoading=!1})}openNewThreadDialog(){this.dialog.open(F,{width:"750px"})}showThreadDetails(c){this.router.navigate(["thread",c],{relativeTo:this.activatedRoute})}replyThread(c){this.dialog.open(y,{width:"750px",data:{threadId:c}})}};function z(s,c){if(1&s&&(e.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"h3"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"sub",8),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&s){const a=c.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(a.content),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==a||null==a.createdBy?null:a.createdBy.name," on ",null==a?null:a.lastUpdatedAt,"")}}function Y(s,c){if(1&s){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.replyThread(null==n.thread?null:n.thread.id))}),e.\u0275\u0275text(1,"Reply"),e.\u0275\u0275elementEnd()}}O.\u0275fac=function(c){return new(c||O)(e.\u0275\u0275directiveInject(I),e.\u0275\u0275directiveInject(V),e.\u0275\u0275directiveInject(M.CookieService),e.\u0275\u0275directiveInject(N),e.\u0275\u0275directiveInject(k.SocialAuthService),e.\u0275\u0275directiveInject(b.ActivatedRoute),e.\u0275\u0275directiveInject(C.MatDialog),e.\u0275\u0275directiveInject(b.Router))},O.\u0275cmp=e.\u0275\u0275defineComponent({type:O,selectors:[["app-forum"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:3,consts:[[1,"container","pt-5"],[1,"mt-5","pt-5"],["class","col-lg-12 forum pt-3",4,"ngFor","ngForOf"],["class","d-flex justify-content-center pt-5",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col-lg-12","forum","pt-3"],[1,"cursor",3,"click"],["class","px-2",3,"click",4,"ngIf"],[1,"float-right"],[1,"px-2",3,"click"],[1,"d-flex","justify-content-center","pt-5"],[1,"btn","btn-primary","btn-xl","text-uppercase","js-scroll-trigger",3,"click"],[1,"d-flex","justify-content-center"],[1,"fas","fa-circle-notch","fa-spin","fa-3x"]],template:function(c,a){1&c&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,K,10,5,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,D,3,0,"div",3),e.\u0275\u0275template(4,q,2,0,"div",4),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",a.threads),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.loggedInUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading))},dependencies:[j.NgFor,j.NgIf,B.MatProgressBarModule],styles:[".forum[_ngcontent-%COMP%]{border:0;box-shadow:0 0}.mat-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.btn-primary[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{color:#e22cb1}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),O=(0,S.gn)([(0,w.UntilDestroy)(),(0,S.w6)("design:paramtypes",[I,V,M.CookieService,N,k.SocialAuthService,b.ActivatedRoute,C.MatDialog,b.Router])],O);let T=class{constructor(c,a,t,n){this.route=c,this.loggedInService=a,this.dialog=t,this.forumService=n,this.id="",this.posts=[]}ngOnInit(){this.loggedInUser=this.loggedInService.getLoggedInUser(),this.id=this.route.snapshot.paramMap.get("id"),this.id&&(this.forumService.getThread(this.id).pipe((0,w.untilDestroyed)(this)).subscribe(c=>{this.thread=c}),this.forumService.getAllPosts(this.id).pipe((0,w.untilDestroyed)(this)).subscribe(c=>{this.posts=c}))}replyThread(c){this.dialog.open(y,{width:"750px",data:{threadId:c}})}};T.\u0275fac=function(c){return new(c||T)(e.\u0275\u0275directiveInject(b.ActivatedRoute),e.\u0275\u0275directiveInject(N),e.\u0275\u0275directiveInject(C.MatDialog),e.\u0275\u0275directiveInject(I))},T.\u0275cmp=e.\u0275\u0275defineComponent({type:T,selectors:[["app-thread-detail"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:11,vars:4,consts:[[1,"container","pt-5"],[1,"mt-5","pt-5"],["class","col-lg-12 forum pt-3",4,"ngFor","ngForOf"],[1,"pt-3"],["class","px-2",3,"click",4,"ngIf"],["routerLink","../../",1,"px-2","float-right"],[1,"col-lg-12","forum","pt-3"],[1,"col-lg-12"],[1,"float-right"],[1,"px-2",3,"click"]],template:function(c,a){1&c&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h3"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,z,6,3,"div",2),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275template(8,Y,2,0,"a",4),e.\u0275\u0275elementStart(9,"a",5),e.\u0275\u0275text(10,"Back"),e.\u0275\u0275elementEnd()()()()),2&c&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==a.thread?null:a.thread.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==a.thread?null:a.thread.description),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.posts),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.loggedInUser))},dependencies:[j.NgFor,b.RouterLink,j.NgIf],styles:[".forum[_ngcontent-%COMP%]{border:0;box-shadow:0 0}.mat-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.btn-primary[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{color:#e22cb1}"]}),T=(0,S.gn)([(0,w.UntilDestroy)(),(0,S.w6)("design:paramtypes",[b.ActivatedRoute,N,C.MatDialog,I])],T);const J=[{path:"",component:G,children:[{path:"thread/:id",component:T},{path:"",component:O}]}];let Q=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[j.CommonModule,f.ReactiveFormsModule,B.MatProgressBarModule,P.HttpClientModule,b.RouterModule.forChild(J),G,O,y,F,T]}),s})()},655:(W,L,g)=>{function S(t,n,r,o){var u,l=arguments.length,i=l<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,r,o);else for(var p=t.length-1;p>=0;p--)(u=t[p])&&(i=(l<3?u(i):l>3?u(n,r,i):u(n,r))||i);return l>3&&i&&Object.defineProperty(n,r,i),i}function f(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function w(t,n,r,o){return new(r||(r=Promise))(function(i,u){function p(m){try{d(o.next(m))}catch(v){u(v)}}function _(m){try{d(o.throw(m))}catch(v){u(v)}}function d(m){m.done?i(m.value):function l(i){return i instanceof r?i:new r(function(u){u(i)})}(m.value).then(p,_)}d((o=o.apply(t,n||[])).next())})}function D(t){return this instanceof D?(this.v=t,this):new D(t)}function q(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,o=r.apply(t,n||[]),i=[];return l={},u("next"),u("throw"),u("return"),l[Symbol.asyncIterator]=function(){return this},l;function u(h){o[h]&&(l[h]=function(x){return new Promise(function(R,E){i.push([h,x,R,E])>1||p(h,x)})})}function p(h,x){try{!function _(h){h.value instanceof D?Promise.resolve(h.value.v).then(d,m):v(i[0][2],h)}(o[h](x))}catch(R){v(i[0][3],R)}}function d(h){p("next",h)}function m(h){p("throw",h)}function v(h,x){h(x),i.shift(),i.length&&p(i[0][0],i[0][1])}}function z(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function M(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(i){r[i]=t[i]&&function(u){return new Promise(function(p,_){!function l(i,u,p,_){Promise.resolve(_).then(function(d){i({value:d,done:p})},u)}(p,_,(u=t[i](u)).done,u.value)})}}}g.d(L,{FC:()=>q,KL:()=>z,gn:()=>S,mG:()=>w,qq:()=>D,w6:()=>f})}}]);